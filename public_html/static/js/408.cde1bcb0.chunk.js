"use strict";(self.webpackChunkpaxfolio=self.webpackChunkpaxfolio||[]).push([[408],{7112:function(e,a,s){s.d(a,{Z:function(){return u}});var t=s(5671),r=s(3144),n=s(136),o=s(9388),i=s(2791),l=s(1087),c=s(7923),d=s(184),u=function(e){(0,n.Z)(s,e);var a=(0,o.Z)(s);function s(){return(0,t.Z)(this,s),a.apply(this,arguments)}return(0,r.Z)(s,[{key:"render",value:function(){return(0,d.jsxs)(l.rU,{className:"read_article",to:this.props.to,children:[(0,d.jsx)("span",{children:"Read Article"}),(0,d.jsx)(c.r,{className:"read_article__arrow"})]})}}]),s}(i.Component)},2408:function(e,a,s){s.r(a),s.d(a,{default:function(){return b}});var t=s(3433),r=s(1413),n=s(4165),o=s(5861),i=s(5671),l=s(3144),c=s(7326),d=s(136),u=s(9388),h=s(2791),p=s(7112),m=s(3079),g=s(184);function v(e){var a,s,t,r,n=null===(a=e.author)||void 0===a?void 0:a.node;return(0,g.jsxs)("div",{className:"author",children:[(0,g.jsx)("div",{className:"author__avatar",children:(0,g.jsx)("img",{src:null===n||void 0===n?void 0:n.avatar.url,alt:"author avatar"})}),(0,g.jsxs)("div",{className:"author_info",children:[(0,g.jsx)("h4",{className:"author__name",children:null!==n&&void 0!==n&&n.firstName||null!==n&&void 0!==n&&n.lastName?"".concat(n.firstName?n.firstName:""," ").concat(n.lastName?n.lastName:""):"@".concat(null===n||void 0===n?void 0:n.username)}),(0,g.jsx)("p",{className:"author__occupation",children:null===n||void 0===n||null===(s=n.roles)||void 0===s||null===(t=s.edges[0])||void 0===t||null===(r=t.node)||void 0===r?void 0:r.displayName})]})]})}var f=s(3173),x=s(5402),_=s(3310),j=s(4913),N=function(e){var a=e.blog,s=a.author.node.avatar.url,t=a.author.node.firstName+(a.author.node.lastName?" "+a.author.node.lastName:""),r=a.content.split("</p>")[0].split("<p>")[1];return(0,g.jsxs)("div",{className:"post ".concat(e.className),children:[(0,g.jsx)("img",{className:"post__image",src:a.featuredImage.node.sourceUrl,alt:"blog sample"}),(0,g.jsxs)("div",{className:"post__category-box",children:[(0,g.jsx)("p",{className:"post__name section_name post__name--blue",children:a.categories.edges[0].node.name||"Story"}),(0,g.jsx)("p",{className:"post__date",children:new Intl.DateTimeFormat("en-US",{month:"short",year:"numeric",day:"2-digit"}).format(new Date(a.date))})]}),(0,g.jsx)("h2",{className:"post__title",children:a.title}),(0,g.jsx)("p",{className:"post__summary",dangerouslySetInnerHTML:{__html:r}}),(0,g.jsxs)("div",{className:"post__author",children:[(0,g.jsx)("img",{className:"post__author-image",src:s,alt:t}),(0,g.jsx)("p",{className:"post__author-name",children:t})]}),(0,g.jsx)(p.Z,{})]})},b=function(e){(0,d.Z)(s,e);var a=(0,u.Z)(s);function s(e){var t;return(0,i.Z)(this,s),(t=a.call(this,e)).blogs={chip:"all",categories:[]},t.state=t.blogs,t.handleRadioChange=t.handleRadioChange.bind((0,c.Z)(t)),t}return(0,l.Z)(s,[{key:"componentDidMount",value:function(){var e=(0,o.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getCategories();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){}},{key:"handleRadioChange",value:function(e){this.blogs.chip=e.target.id,this.setState(this.blogs)}},{key:"getCategories",value:function(){var e=(0,o.Z)((0,n.Z)().mark((function e(){var a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.Z.query({query:x.Fk});case 2:a=e.sent,this.blogs.categories=a.data.categories.edges,this.setState(this.blogs);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return(0,g.jsx)(h.Suspense,{children:(0,g.jsxs)("main",{className:"blogs",children:[(0,g.jsxs)("section",{className:"hero",background:"light",children:[(0,g.jsx)("div",{className:"container",children:(0,g.jsxs)("div",{className:"hero_blog",children:[(0,g.jsx)("div",{className:"hero_blog__wrapper",children:(0,g.jsx)(Z,{})}),(0,g.jsx)("div",{className:"hero_graphic"})]})}),(0,g.jsx)(m.Z,{variant:"white"})]}),(0,g.jsxs)("section",{className:"posts",children:[(0,g.jsxs)("div",{className:"container",children:[(0,g.jsx)("div",{className:"chips",children:this.state.categories.map((function(a,s){return"uncategorised"!==a.node.name.toLowerCase()&&(0,g.jsxs)("div",{className:"chip",children:[(0,g.jsx)("input",{id:a.node.name,type:"radio",name:"radio",onChange:e.handleRadioChange,checked:e.state.chip.toLowerCase()===a.node.name.toLowerCase()}),(0,g.jsx)("label",{htmlFor:a.node.name,children:a.node.name})]},s)}))}),(0,g.jsx)(y,{chip:this.state.chip})]}),(0,g.jsx)(m.Z,{variant:"footer"})]})]})})}}]),s}(h.Component),Z=function(){var e=(0,f.a)(x.p$,{variables:{first:1,after:null},fetchPolicy:"no-cache"}),a=e.loading,s=e.error,t=e.data;if(a)return(0,g.jsx)("p",{children:"Loading..."});if(s)return(0,g.jsxs)("p",{children:["ErrorL ",s]});var r=t.posts.edges[0].node,n=r.content.split("</p>")[0].split("<p>")[1];return(0,g.jsxs)(h.Fragment,{children:[(0,g.jsx)("div",{className:"hero_blog__image",children:(0,g.jsx)("img",{src:r.featuredImage.node.sourceUrl,alt:"blog hero"})}),(0,g.jsxs)("div",{className:"hero_blog__content",children:[(0,g.jsxs)("div",{className:"hero_blog__content-box",children:[(0,g.jsx)("p",{className:"section_name hero_blog__name",children:"BLOG TODAYS"}),(0,g.jsx)("h1",{className:"hero_blog__title",children:r.title}),(0,g.jsx)("p",{className:"hero_blog__summary",dangerouslySetInnerHTML:{__html:n}}),(0,g.jsx)(p.Z,{id:r.id})]}),(0,g.jsx)(v,{author:r.author})]})]})},y=function(e){var a,s=(0,f.a)(x.p$,{variables:{first:1}}).data,n=(0,f.a)(x.p$,{variables:{first:8,after:null===s||void 0===s||null===(a=s.posts)||void 0===a?void 0:a.pageInfo.endCursor},notifyOnNetworkStatusChange:!0}),o=n.loading,i=n.error,l=n.data,c=n.fetchMore;if(!l&&o)return(0,g.jsx)("p",{children:"Loading..."});if(i)return(0,g.jsx)("p",{children:"An error occured"});if(!l)return(0,g.jsx)("p",{children:"No posts yet"});var d=l.posts.edges.map((function(e){return e.node})),u=l.posts.pageInfo;return"all"!==e.chip.toLowerCase()&&(d=d.filter((function(a){return a.categories.edges.map((function(e){return e.node.name})).includes(e.chip)}))),(0,g.jsxs)(h.Fragment,{children:[(0,g.jsx)("div",{className:"posts_view",children:d.map((function(e,a){return(0,g.jsx)(N,{blog:e},a)}))}),(0,g.jsx)("div",{className:"view_more",children:u.hasNextPage?(0,g.jsx)(j.Z,{text:o?"Loading...":"View all posts",type:"arrow outline",arrowVariant:"down",color:"green",disabled:o,onClick:function(e){e.preventDefault(),c({variables:{first:8,after:l.posts.pageInfo.endCursor},updateQuery:function(e,a){var s=a.fetchMoreResult;return s?(0,r.Z)((0,r.Z)({},e),{},{posts:(0,r.Z)((0,r.Z)((0,r.Z)({},e.posts),s.posts),{},{edges:[].concat((0,t.Z)(e.posts.edges),(0,t.Z)(s.posts.edges))})}):e}})}}):(0,g.jsx)("p",{children:"All posts loaded."})})]})}}}]);
//# sourceMappingURL=408.cde1bcb0.chunk.js.map